<%= render 'shared/header' %>

<div class='container mx-auto'>
  <div class='flex flex-col p-8 mx-auto w-5/6 bg-white rounded text-xs sm:text-base text-gray-600 shadow-2xl'>
    <h1 class="text-2xl mb-3 font-bold text-center">Let's search!</h1>
    <div class='text-center mb-3'>
      <%= form_with url: search_path, method: :get do |f| %>
        <div class="flex mx-3 border border-gray-300 rounded-full p-1 focus:outline-none focus:ring focus:ring-blue-100 focus:border-blue-200">
        <%= f.text_field :keyword, placeholder: "何をお探しですか？？", class: "w-full inline-block mx-2 focus:outline-none" %>
        <%= f.submit '検索', class: "inline-block my-auto mr-2 text-sm text-white bg-blue-900 rounded-full p-1 cursor-pointer focus:outline-none　transition duration-200 ease-in-out hover:bg-gray-500" %>
        </div>
      <% end %>
    </div>
    <% if @goods.present? %>
      <% @goods.first(20).each do |item| %>
          <div class="w-full mx-auto border-2 border-gray-300 p-5 rounded-md shadow-lg my-3 sm:flex">
            <img src="<%= item['mediumImageUrls'][0] %>" class="rounded mx-auto my-auto block rounded-md">
            <div class="sm:my-auto sm:p-4">
              <a href="<%= item['itemUrl'] %>", class="block mt-3"><%= item['itemName'].truncate(80) %></a>
              <p class="text-right text-base font-bold"><%= item['itemPrice'] %>円</p>
              <p class="text-right text-base font-bold">楽天レビュー平均：<%= item['reviewAverage'] %>点</p>
            </div>
          </div>
      <% end %>
    <% else %>
      <p class="text-center">該当商品はありません</p>
    <% end %>
  </div>
</div>
